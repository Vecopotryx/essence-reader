var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function c(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function d(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function p(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t){e.value=null==t?"":t}function m(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function b(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}class x{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=c(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)a(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(l)}}let v;function w(e){v=e}function y(e){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.after_update.push(e)}const N=[],E=[],A=[],T=[],O=Promise.resolve();let $=!1;function k(e){A.push(e)}const P=new Set;let C=0;function F(){const e=v;do{for(;C<N.length;){const e=N[C];C++,w(e),S(e.$$)}for(w(null),N.length=0,C=0;E.length;)E.pop()();for(let e=0;e<A.length;e+=1){const t=A[e];P.has(t)||(P.add(t),t())}A.length=0}while(N.length);for(;T.length;)T.pop()();$=!1,P.clear(),w(e)}function S(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(k)}}const L=new Set;let _;function z(e,t){e&&e.i&&(L.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(L.has(e))return;L.add(e),_.c.push((()=>{L.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const D="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function I(e,n,s,o){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(n,s),o||k((()=>{const n=l.map(t).filter(i);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(k)}function j(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function M(e,t){-1===e.$$.dirty[0]&&(N.push(e),$||($=!0,O.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(t,i,s,o,a,c,u,f=[-1]){const d=v;w(t);const h=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:i.target||d.$$.root};u&&u(h.root);let p=!1;if(h.ctx=s?s(t,i.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),p&&M(t,e)),n})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);h.fragment&&h.fragment.l(e),e.forEach(l)}else h.fragment&&h.fragment.c();i.intro&&z(t.$$.fragment),I(t,i.target,i.anchor,i.customElement),F()}w(d)}class U{$destroy(){j(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var R=function(e){var t={exports:{}};return e(t,t.exports),t.exports}((function(e,t){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let s=0;s<i;s++)e[r[s]]="strict"===n?[t[r[s]]]:t[r[s]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){const t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const s=r.length;for(let e=0;e<s;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r}));const X={allowBooleanAttributes:!1,unpairedTags:[]};function H(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function q(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return K("InvalidXml","XML declaration allowed only at the start of the document.",ee(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function G(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function W(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const Y=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Z(e,t){const n=R.getAllMatches(e,Y),r={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return K("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",te(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return K("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",te(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return K("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",te(n[e]));const i=n[e][2];if(!Q(i))return K("InvalidAttr","Attribute '"+i+"' is an invalid name.",te(n[e]));if(r.hasOwnProperty(i))return K("InvalidAttr","Attribute '"+i+"' is repeated.",te(n[e]));r[i]=1}return!0}function J(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function K(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function Q(e){return R.isName(e)}function ee(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function te(e){return e.startIndex+e[1].length}var ne={validate:function(e,t){t=Object.assign({},X,t);const n=[];let r=!1,i=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=q(e,o),o.err)return o}else{if("<"!==e[o]){if(H(e[o]))continue;return K("InvalidChar","char '"+e[o]+"' is not expected.",ee(e,o))}{let a=o;if(o++,"!"===e[o]){o=G(e,o);continue}{let l=!1;"/"===e[o]&&(l=!0,o++);let c="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)c+=e[o];if(c=c.trim(),"/"===c[c.length-1]&&(c=c.substring(0,c.length-1),o--),s=c,!R.isName(s)){let t;return t=0===c.trim().length?"Invalid space after '<'.":"Tag '"+c+"' is an invalid name.",K("InvalidTag",t,ee(e,o))}const u=W(e,o);if(!1===u)return K("InvalidAttr","Attributes for '"+c+"' have open quote.",ee(e,o));let f=u.value;if(o=u.index,"/"===f[f.length-1]){const n=o-f.length;f=f.substring(0,f.length-1);const i=Z(f,t);if(!0!==i)return K(i.err.code,i.err.msg,ee(e,n+i.err.line));r=!0}else if(l){if(!u.tagClosed)return K("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ee(e,o));if(f.trim().length>0)return K("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ee(e,a));{const t=n.pop();if(c!==t.tagName){let n=ee(e,t.tagStartPos);return K("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+c+"'.",ee(e,a))}0==n.length&&(i=!0)}}else{const s=Z(f,t);if(!0!==s)return K(s.err.code,s.err.msg,ee(e,o-f.length+s.err.line));if(!0===i)return K("InvalidXml","Multiple possible root nodes found.",ee(e,o));-1!==t.unpairedTags.indexOf(c)||n.push({tagName:c,tagStartPos:a}),r=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=G(e,o);continue}if("?"!==e[o+1])break;if(o=q(e,++o),o.err)return o}else if("&"===e[o]){const t=J(e,o);if(-1==t)return K("InvalidChar","char '&' is not expected.",ee(e,o));o=t}else if(!0===i&&!H(e[o]))return K("InvalidXml","Extra text at the end",ee(e,o));"<"===e[o]&&o--}}}var s;return r?1==n.length?K("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",ee(e,n[0].tagStartPos)):!(n.length>0)||K("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):K("InvalidXml","Start tag expected.",1)}};const re={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1};var ie={buildOptions:function(e){return Object.assign({},re,e)},defaultOptions:re};var se=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){this.child.push({[e]:t})}addChild(e){e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};const oe=RegExp("^\\s([a-zA-z0-0]+)[ \t](['\"])([^&]+)\\2");function ae(e,t){const n=oe.exec(e);n&&(t[n[1]]={regx:RegExp(`&${n[1]};`,"g"),val:n[3]})}var le=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let r=1,i=!1,s=!1,o=!1,a="";for(;t<e.length;t++)if("<"===e[t]){if(i&&"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7])t+=7,s=!0;else if(i&&"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8])t+=8;else{if("!"!==e[t+1]||"-"!==e[t+2]||"-"!==e[t+3])throw new Error("Invalid DOCTYPE");o=!0}r++,a=""}else if(">"===e[t]){if(o){if("-"!==e[t-1]||"-"!==e[t-2])throw new Error("Invalid XML comment in DOCTYPE");o=!1}else s&&(ae(a,n),s=!1);if(r--,0===r)break}else"["===e[t]?i=!0:a+=e[t];if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}};const ce=/^[-+]?0x[a-fA-F0-9]+$/,ue=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const fe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};var de=function(e,t={}){if(t=Object.assign({},fe,t),!e||"string"!=typeof e)return e;let n=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if(t.hex&&ce.test(n))return Number.parseInt(n,16);{const r=ue.exec(n);if(r){const i=r[1],s=r[2];let o=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(r[3]);const a=r[4]||r[6];if(!t.leadingZeros&&s.length>0&&i&&"."!==n[2])return e;if(!t.leadingZeros&&s.length>0&&!i&&"."!==n[1])return e;{const r=Number(n),l=""+r;return-1!==l.search(/[eE]/)||a?t.eNotation?r:e:-1!==n.indexOf(".")?"0"===l&&""===o||l===o||i&&l==="-"+o?r:e:s?o===l||i+o===l?r:e:n===l||n===i+l?r:e}}return e}};"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,R.nameRegexp);function he(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function pe(e,t,n,r,i,s,o){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,i,s);if(null==r)return e;if(typeof r!=typeof e||r!==e)return r;if(this.options.trimValues)return Te(e,this.options.parseTagValue,this.options.numberParseOptions);return e.trim()===e?Te(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function ge(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}const me=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function be(e,t){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=R.getAllMatches(e,me),r=n.length,i={};for(let e=0;e<r;e++){const r=this.resolveNameSpace(n[e][1]);let s=n[e][4];const o=this.options.attributeNamePrefix+r;if(r.length)if(void 0!==s){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);const e=this.options.attributeValueProcessor(r,s,t);i[o]=null==e?s:typeof e!=typeof s||e!==s?e:Te(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[o]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=i,e}return i}}const xe=function(e){e=e.replace(/\r\n?/g,"\n");const t=new se("!xml");let n=t,r="",i="";for(let s=0;s<e.length;s++){if("<"===e[s])if("/"===e[s+1]){const t=Ne(e,">",s,"Closing Tag is not closed.");let o=e.substring(s+2,t).trim();if(this.options.removeNSPrefix){const e=o.indexOf(":");-1!==e&&(o=o.substr(e+1))}n&&(r=this.saveTextToParentTag(r,n,i)),i=i.substr(0,i.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",s=t}else if("?"===e[s+1]){let t=Ee(e,s,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new se(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,i)),n.addChild(e)}s=t.closeIndex+1}else if("!--"===e.substr(s+1,3)){const t=Ne(e,"--\x3e",s+4,"Comment is not closed.");if(this.options.commentPropName){const o=e.substring(s+4,t-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}s=t}else if("!D"===e.substr(s+1,2)){const t=le(e,s);this.docTypeEntities=t.entities,s=t.i}else if("!["===e.substr(s+1,2)){const t=Ne(e,"]]>",s,"CDATA is not closed.")-2,o=e.substring(s+9,t);if(r=this.saveTextToParentTag(r,n,i),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]);else{let e=this.parseTextData(o,n.tagname,i,!0,!1,!0);e||(e=""),n.add(this.options.textNodeName,e)}s=t+2}else{let o=Ee(e,s,this.options.removeNSPrefix),a=o.tagName,l=o.tagExp,c=o.attrExpPresent,u=o.closeIndex;n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,i,!1)),a!==t.tagname&&(i+=i?"."+a:a);const f=n;if(f&&-1!==this.options.unpairedTags.indexOf(f.tagname)&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,i,a)){let t="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)s=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(a))s=o.closeIndex;else{const n=this.readStopNodeData(e,a,u+1);if(!n)throw new Error(`Unexpected end of ${a}`);s=n.i,t=n.tagContent}const r=new se(a);a!==l&&c&&(r[":@"]=this.buildAttributesMap(l,i)),t&&(t=this.parseTextData(t,a,i,!0,c,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),r.add(this.options.textNodeName,t),n.addChild(r)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===a[a.length-1]?(a=a.substr(0,a.length-1),l=a):l=l.substr(0,l.length-1);const e=new se(a);a!==l&&c&&(e[":@"]=this.buildAttributesMap(l,i)),i=i.substr(0,i.lastIndexOf(".")),n.addChild(e)}else{const e=new se(a);this.tagsNodeStack.push(n),a!==l&&c&&(e[":@"]=this.buildAttributesMap(l,i)),n.addChild(e),n=e}r="",s=u}}else r+=e[s]}return t.child},ve=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}}return e};function we(e,t,n,r){return e&&(void 0===r&&(r=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function ye(e,t,n){const r="*."+n;for(const n in e){const i=e[n];if(r===i||t===i)return!0}return!1}function Ne(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}function Ee(e,t,n,r=">"){const i=function(e,t,n=">"){let r,i="";for(let s=t;s<e.length;s++){let t=e[s];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:i,index:s};if(e[s+1]===n[1])return{data:i,index:s}}else"\t"===t&&(t=" ");i+=t}}(e,t+1,r);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let l=s,c=!0;if(-1!==a&&(l=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),n){const e=l.indexOf(":");-1!==e&&(l=l.substr(e+1),c=l!==i.data.substr(e+1))}return{tagName:l,tagExp:s,closeIndex:o,attrExpPresent:c}}function Ae(e,t,n){const r=n;for(;n<e.length;n++)if("<"===e[n]&&"/"===e[n+1]){const i=Ne(e,">",n,`${t} is not closed`);if(e.substring(n+2,i).trim()===t)return{tagContent:e.substring(r,n),i:i};n=i}}function Te(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&de(e,n)}return R.isExist(e)?e:""}var Oe=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"Â¢"},pound:{regex:/&(pound|#163);/g,val:"Â£"},yen:{regex:/&(yen|#165);/g,val:"Â¥"},euro:{regex:/&(euro|#8364);/g,val:"â‚¬"},copyright:{regex:/&(copy|#169);/g,val:"Â©"},reg:{regex:/&(reg|#174);/g,val:"Â®"},inr:{regex:/&(inr|#8377);/g,val:"â‚¹"}},this.addExternalEntities=he,this.parseXml=xe,this.parseTextData=pe,this.resolveNameSpace=ge,this.buildAttributesMap=be,this.isItStopNode=ye,this.replaceEntitiesValue=ve,this.readStopNodeData=Ae,this.saveTextToParentTag=we}};function $e(e,t,n){let r;const i={};for(let s=0;s<e.length;s++){const o=e[s],a=ke(o);let l="";if(l=void 0===n?a:n+"."+a,a===t.textNodeName)void 0===r?r=o[a]:r+=""+o[a];else{if(void 0===a)continue;if(o[a]){let e=$e(o[a],t,l);const n=Ce(e,t);o[":@"]?Pe(e,o[":@"],l,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==i[a]?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(e)):t.isArray(a,l,n)?i[a]=[e]:i[a]=e}}}return"string"==typeof r?r.length>0&&(i[t.textNodeName]=r):void 0!==r&&(i[t.textNodeName]=r),i}function ke(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function Pe(e,t,n,r){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const s=i[o];r.isArray(s,n+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function Ce(e,t){const n=Object.keys(e).length;return!!(0===n||1===n&&e[t.textNodeName])}var Fe={prettify:function(e,t){return $e(e,t)}};const{buildOptions:Se}=ie,{prettify:Le}=Fe;var _e=class{constructor(e){this.externalEntities={},this.options=Se(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=ne.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new Oe(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:Le(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[e]=t}};function ze(e,t,n,r){let i="",s="";t.format&&t.indentBy.length>0&&(s="\n"+t.indentBy.repeat(r));for(let o=0;o<e.length;o++){const a=e[o],l=Be(a);let c="";if(c=0===n.length?l:`${n}.${l}`,l===t.textNodeName){let e=a[l];Ie(c,t)||(e=t.tagValueProcessor(l,e),e=je(e,t)),i+=s+e;continue}if(l===t.cdataPropName){i+=s+`<![CDATA[${a[l][0][t.textNodeName]}]]>`;continue}if(l===t.commentPropName){i+=s+`\x3c!--${a[l][0][t.textNodeName]}--\x3e`;continue}if("?"===l[0]){const e=De(a[":@"],t),n="?xml"===l?"":s;let r=a[l][0][t.textNodeName];r=0!==r.length?" "+r:"",i+=n+`<${l}${r}${e}?>`;continue}let u=s+`<${l}${De(a[":@"],t)}`,f=ze(a[l],t,c,r+1);-1!==t.unpairedTags.indexOf(l)?t.suppressUnpairedNode?i+=u+">":i+=u+"/>":f&&0!==f.length||!t.suppressEmptyNode?i+=u+`>${f}${s}</${l}>`:i+=u+"/>"}return i}function Be(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function De(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let i=t.attributeValueProcessor(r,e[r]);i=je(i,t),!0===i&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${i}"`}return n}function Ie(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function je(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}var Me=function(e,t){return ze(e,t,"",0)};const Ve={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Ue(e){this.options=Object.assign({},Ve,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Je),this.processTextOrObjNode=Xe,this.options.format?(this.indentate=Ze,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=Ye,this.buildObjNode=qe):(this.buildTextNode=Ge,this.buildObjNode=He),this.buildTextValNode=Ge,this.buildObjectNode=He,this.replaceEntitiesValue=We,this.buildAttrPairStr=Re}function Re(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'}function Xe(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function He(e,t,n,r){let i="</"+t+this.tagEndChar,s="";return"?"===t[0]&&(s="?",i=""),n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+s+">"+e+i:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===s.length?this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(r)+"<"+t+n+s+this.tagEndChar+e+this.indentate(r)+i}function qe(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function Ge(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),""===i&&-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode?this.indentate(r)+"<"+t+this.tagEndChar:this.indentate(r)+"<"+t+"/"+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+i+"</"+t+this.tagEndChar}}function We(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e}function Ye(e,t,n,r){return""===e&&-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode?this.indentate(r)+"<"+t+this.tagEndChar:this.indentate(r)+"<"+t+"/"+this.tagEndChar:""!==e?this.buildTextValNode(e,t,n,r):"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function Ze(e){return this.options.indentBy.repeat(e)}function Je(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}Ue.prototype.build=function(e){return this.options.preserveOrder?Me(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},Ue.prototype.j2x=function(e,t){let n="",r="";for(let i in e)if(void 0===e[i]);else if(null===e[i])"?"===i[0]?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){const s=this.isAttribute(i);if(s)n+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);r+=this.replaceEntitiesValue(t)}else r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const n=e[i].length;for(let s=0;s<n;s++){const n=e[i][s];void 0===n||(null===n?"?"===i[0]?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:r+="object"==typeof n?this.processTextOrObjNode(n,i,t):this.buildTextNode(n,i,"",t))}}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const t=Object.keys(e[i]),r=t.length;for(let s=0;s<r;s++)n+=this.buildAttrPairStr(t[s],""+e[i][t[s]])}else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}};var Ke={XMLParser:_e,XMLValidator:ne,XMLBuilder:Ue};function Qe(e){return e.arrayBuffer?e.arrayBuffer():new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("loadend",(()=>{t(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(e)}))}async function et(e){const t=await Qe(e);return new Uint8Array(t)}function tt(e){return"undefined"!=typeof Blob&&e instanceof Blob}function nt(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}const rt="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron;class it{constructor(e){this.typedArray=e instanceof ArrayBuffer||nt(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class st{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){const n=this.blob.slice(e,e+t),r=await Qe(n);return new Uint8Array(r)}async sliceAsBlob(e,t,n=""){return this.blob.slice(e,e+t,n)}}function ot(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r}function at(e,t,n,r,i,s){for(var o=dt,a=pt,l=0;l<n;){var c=e[a(r,i)&t];i+=15&c;var u=c>>>4;if(u<=15)s[l]=u,l++;else{var f=0,d=0;16==u?(d=3+o(r,i,2),i+=2,f=s[l-1]):17==u?(d=3+o(r,i,3),i+=3):18==u&&(d=11+o(r,i,7),i+=7);for(var h=l+d;l<h;)s[l]=f,l++}}return i}function lt(e,t,n,r){for(var i=0,s=0,o=r.length>>>1;s<n;){var a=e[s+t];r[s<<1]=0,r[1+(s<<1)]=a,a>i&&(i=a),s++}for(;s<o;)r[s<<1]=0,r[1+(s<<1)]=0,s++;return i}function ct(e,t){for(var n,r,i,s,o=e.length,a=gt.bl_count,l=0;l<=t;l++)a[l]=0;for(l=1;l<o;l+=2)a[e[l]]++;var c=gt.next_code;for(n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,c[r]=n;for(i=0;i<o;i+=2)0!=(s=e[i+1])&&(e[i]=c[s],c[s]++)}function ut(e,t,n){for(var r=e.length,i=gt.rev15,s=0;s<r;s+=2)if(0!=e[s+1])for(var o=s>>1,a=e[s+1],l=o<<4|a,c=t-a,u=e[s]<<c,f=u+(1<<c);u!=f;){n[i[u]>>>15-t]=l,u++}}function ft(e,t){for(var n=gt.rev15,r=15-t,i=0;i<e.length;i+=2){var s=e[i]<<t-e[i+1];e[i]=n[s]>>>r}}function dt(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1}function ht(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1}function pt(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)}const gt=(mt=Uint16Array,bt=Uint32Array,{next_code:new mt(16),bl_count:new mt(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new mt(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new bt(32),flmap:new mt(512),fltree:[],fdmap:new mt(32),fdtree:[],lmap:new mt(32768),ltree:[],ttree:[],dmap:new mt(32768),dtree:[],imap:new mt(512),itree:[],rev15:new mt(32768),lhst:new bt(286),dhst:new bt(30),ihst:new bt(19),lits:new bt(15e3),strt:new mt(65536),prev:new mt(32768)});var mt,bt;!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,gt.rev15[e]=(t>>>16|t<<16)>>>17}function n(e,t,n){for(;0!=t--;)e.push(0,n)}for(e=0;e<32;e++)gt.ldef[e]=gt.of0[e]<<3|gt.exb[e],gt.ddef[e]=gt.df0[e]<<4|gt.dxb[e];n(gt.fltree,144,8),n(gt.fltree,112,9),n(gt.fltree,24,7),n(gt.fltree,8,8),ct(gt.fltree,9),ut(gt.fltree,9,gt.flmap),ft(gt.fltree,9),n(gt.fdtree,32,5),ct(gt.fdtree,5),ut(gt.fdtree,5,gt.fdmap),ft(gt.fdtree,5),n(gt.itree,19,0),n(gt.ltree,286,0),n(gt.dtree,30,0),n(gt.ttree,320,0)}();const xt={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=xt.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^xt.update(4294967295,e,t,n)}};function vt(e,t){return function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=ht,i=dt,s=at,o=pt,a=null==t;a&&(t=new n(e.length>>>2<<3));for(var l,c,u=0,f=0,d=0,h=0,p=0,g=0,m=0,b=0,x=0;0==u;)if(u=r(e,x,1),f=r(e,x+1,2),x+=3,0!=f){if(a&&(t=ot(t,b+(1<<17))),1==f&&(l=gt.flmap,c=gt.fdmap,g=511,m=31),2==f){d=i(e,x,5)+257,h=i(e,x+5,5)+1,p=i(e,x+10,4)+4,x+=14;for(var v=0;v<38;v+=2)gt.itree[v]=0,gt.itree[v+1]=0;var w=1;for(v=0;v<p;v++){var y=i(e,x+3*v,3);gt.itree[1+(gt.ordr[v]<<1)]=y,y>w&&(w=y)}x+=3*p,ct(gt.itree,w),ut(gt.itree,w,gt.imap),l=gt.lmap,c=gt.dmap,x=s(gt.imap,(1<<w)-1,d+h,e,x,gt.ttree);var N=lt(gt.ttree,0,d,gt.ltree);g=(1<<N)-1;var E=lt(gt.ttree,d,h,gt.dtree);m=(1<<E)-1,ct(gt.ltree,N),ut(gt.ltree,N,l),ct(gt.dtree,E),ut(gt.dtree,E,c)}for(;;){var A=l[o(e,x)&g];x+=15&A;var T=A>>>4;if(T>>>8==0)t[b++]=T;else{if(256==T)break;var O=b+T-254;if(T>264){var $=gt.ldef[T-257];O=b+($>>>3)+i(e,x,7&$),x+=7&$}var k=c[o(e,x)&m];x+=15&k;var P=k>>>4,C=gt.ddef[P],F=(C>>>4)+r(e,x,15&C);for(x+=15&C,a&&(t=ot(t,b+(1<<17)));b<O;)t[b]=t[b++-F],t[b]=t[b++-F],t[b]=t[b++-F],t[b]=t[b++-F];b=O}}}else{0!=(7&x)&&(x+=8-(7&x));var S=4+(x>>>3),L=e[S-4]|e[S-3]<<8;a&&(t=ot(t,b+L)),t.set(new n(e.buffer,e.byteOffset+S,L),b),x=S+L<<3,b+=L}return t.length==b?t:t.slice(0,b)}(e,t)}const wt={numWorkers:1,workerURL:"",useWorkers:!1};let yt=0;const Nt=[];function Et(e){return new Promise(((t,n)=>{const r=new Worker(e);r.onmessage=e=>{"start"===e.data?(r.onerror=void 0,r.onmessage=void 0,t(r)):n(new Error(`unexpected message: ${e.data}`))},r.onerror=n}))}function At(e,t,n,r){const i=new Uint8Array(t);vt(e,i),r(n?new Blob([i],{type:n}):i.buffer)}function Tt(e,t,n){return new Promise(((r,i)=>{Nt.push({src:e,uncompressedSize:t,type:n,resolve:r,reject:i,id:yt++}),async function(){if(0!==Nt.length)for(;Nt.length;){const{src:e,uncompressedSize:t,type:n,resolve:r}=Nt.shift();let i=e;tt(e)&&(i=await et(e)),At(i,t,n,r)}}()}))}!function(){if(rt){const{Worker:n}=(e=module,t="worker_threads",e.require(t));return{createWorker:async e=>new n(e),addEventListener(e,t){e.on("message",(n=>{t({target:e,data:n})}))},async terminate(e){await e.terminate()}}}return{async createWorker(e){try{return await Et(e)}catch(t){console.warn("could not load worker:",e)}let t;try{const n=await fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`could not load: ${e}`);t=await n.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));const r=await Et(e);return wt.workerURL=e,r}catch(t){console.warn("could not load worker via fetch:",e)}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;const n=await Et(e);return wt.workerURL=e,n}catch(e){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};var e,t}();class Ot{constructor(e,t){var n,r;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(n=t.lastModFileDate,r=t.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,r>>11&31,r>>5&63,2*(31&r),0)),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await async function(e,t,n){const{decompress:r,fileDataStart:i}=await Dt(e,t);if(!r){const r=await kt(e,i,t.compressedSize,n);return tt(r)?r:new Blob([nt(r.buffer)?new Uint8Array(r):r],{type:n})}const s=await kt(e,i,t.compressedSize);return await Tt(s,t.uncompressedSize,n)}(this._reader,this._rawEntry,e)}async arrayBuffer(){return await async function(e,t){const{decompress:n,fileDataStart:r}=await Dt(e,t);if(!n){const n=await $t(e,r,t.compressedSize);return 0===(i=n).byteOffset&&i.byteLength===i.buffer.byteLength?n.buffer:n.slice().buffer}var i;const s=await kt(e,r,t.compressedSize);return await Tt(s,t.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const e=await this.arrayBuffer();return _t(new Uint8Array(e))}async json(){const e=await this.text();return JSON.parse(e)}}async function $t(e,t,n){return await e.read(t,n)}async function kt(e,t,n,r){return e.sliceAsBlob?await e.sliceAsBlob(t,n,r):await e.read(t,n)}const Pt={unsigned:()=>0};function Ct(e,t){return e[t]+256*e[t+1]}function Ft(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function St(e,t){return Ft(e,t)+4294967296*Ft(e,t+4)}const Lt=new TextDecoder;function _t(e,t){return nt(e.buffer)&&(e=new Uint8Array(e)),Lt.decode(e)}async function zt(e,t,n,r){const i=t-20,s=await $t(e,i,20);if(117853008!==Ft(s,0))throw new Error("invalid zip64 end of central directory locator signature");const o=St(s,8),a=await $t(e,o,56);if(101075792!==Ft(a,0))throw new Error("invalid zip64 end of central directory record signature");const l=St(a,32),c=St(a,40);return Bt(e,St(a,48),c,l,n,r)}async function Bt(e,t,n,r,i,s){let o=0;const a=await $t(e,t,n),l=[];for(let e=0;e<r;++e){const e=a.subarray(o,o+46),t=Ft(e,0);if(33639248!==t)throw new Error(`invalid central directory file header signature: 0x${t.toString(16)}`);const n={versionMadeBy:Ct(e,4),versionNeededToExtract:Ct(e,6),generalPurposeBitFlag:Ct(e,8),compressionMethod:Ct(e,10),lastModFileTime:Ct(e,12),lastModFileDate:Ct(e,14),crc32:Ft(e,16),compressedSize:Ft(e,20),uncompressedSize:Ft(e,24),fileNameLength:Ct(e,28),extraFieldLength:Ct(e,30),fileCommentLength:Ct(e,32),internalFileAttributes:Ct(e,36),externalFileAttributes:Ft(e,38),relativeOffsetOfLocalHeader:Ft(e,42)};if(64&n.generalPurposeBitFlag)throw new Error("strong encryption is not supported");o+=46;const r=a.subarray(o,o+n.fileNameLength+n.extraFieldLength+n.fileCommentLength);n.nameBytes=r.slice(0,n.fileNameLength),n.name=_t(n.nameBytes);const i=n.fileNameLength+n.extraFieldLength,s=r.slice(n.fileNameLength,i);n.extraFields=[];let c=0;for(;c<s.length-3;){const e=Ct(s,c+0),t=c+4,r=t+Ct(s,c+2);if(r>s.length)throw new Error("extra field length exceeds extra field buffer size");n.extraFields.push({id:e,data:s.slice(t,r)}),c=r}if(n.commentBytes=r.slice(i,i+n.fileCommentLength),n.comment=_t(n.commentBytes),o+=r.length,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){const e=n.extraFields.find((e=>1===e.id));if(!e)throw new Error("expected zip64 extended information extra field");const t=e.data;let r=0;if(4294967295===n.uncompressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include uncompressed size");n.uncompressedSize=St(t,r),r+=8}if(4294967295===n.compressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include compressed size");n.compressedSize=St(t,r),r+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include relative header offset");n.relativeOffsetOfLocalHeader=St(t,r),r+=8}}const u=n.extraFields.find((e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&Ft(e.data,1)),Pt.unsigned(n.nameBytes));if(u&&(n.fileName=_t(u.data.slice(5))),0===n.compressionMethod){let e=n.uncompressedSize;if(0!=(1&n.generalPurposeBitFlag)&&(e+=12),n.compressedSize!==e)throw new Error(`compressed size mismatch for stored file: ${n.compressedSize} != ${e}`)}l.push(n)}return{zip:{comment:i,commentBytes:s},entries:l.map((t=>new Ot(e,t)))}}async function Dt(e,t){if(1&t.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const n=await $t(e,t.relativeOffsetOfLocalHeader,30),r=await e.getLength(),i=Ft(n,0);if(67324752!==i)throw new Error(`invalid local file header signature: 0x${i.toString(16)}`);const s=Ct(n,26),o=Ct(n,28),a=t.relativeOffsetOfLocalHeader+n.length+s+o;let l;if(0===t.compressionMethod)l=!1;else{if(8!==t.compressionMethod)throw new Error(`unsupported compression method: ${t.compressionMethod}`);l=!0}const c=a,u=c+t.compressedSize;if(0!==t.compressedSize&&u>r)throw new Error(`file data overflows file bounds: ${c} +  ${t.compressedSize}  > ${r}`);return{decompress:l,fileDataStart:c}}async function It(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new st(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new it(e);else if(nt(e)||nt(e.buffer))t=new it(e);else if("string"==typeof e){const n=await fetch(e);if(!n.ok)throw new Error(`failed http request ${e}, status: ${n.status}: ${n.statusText}`);const r=await n.blob();t=new st(r)}else{if("function"!=typeof e.getLength||"function"!=typeof e.read)throw new Error("unsupported source type");t=e}const n=await t.getLength();if(n>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${n}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(e,t){const n=Math.min(65557,t),r=t-n,i=await $t(e,r,n);for(let t=n-22;t>=0;--t){if(101010256!==Ft(i,t))continue;const n=new Uint8Array(i.buffer,i.byteOffset+t,i.byteLength-t),s=Ct(n,4);if(0!==s)throw new Error(`multi-volume zip files are not supported. This is volume: ${s}`);const o=Ct(n,10),a=Ft(n,12),l=Ft(n,16),c=Ct(n,20),u=n.length-22;if(c!==u)throw new Error(`invalid comment length. expected: ${u}, actual: ${c}`);const f=new Uint8Array(n.buffer,n.byteOffset+22,c),d=_t(f);return 65535===o||4294967295===l?await zt(e,r+t,d,f):await Bt(e,l,a,o,d,f)}throw new Error("could not find end of central directory. maybe not zip file")}(t,n)}let jt,Mt=[],Vt=[],Ut=[],Rt=[],Xt=[];const Ht=async e=>(Vt=[],Ut=[],Mt=[],Rt=[],(e=>{const t=(new Ke.XMLParser).parse(e).package;jt=Gt(void 0===t.metadata?t["opf:metadata"]:t.metadata);const n=new Ke.XMLParser({ignoreAttributes:!1}).parse(e).package,r=Wt(n.manifest);Yt(n.spine,r)})(await qt(e)),Jt(),{meta:jt,contents:Vt,styles:Xt}),qt=async e=>{const{entries:t}=await async function(e){const{zip:t,entries:n}=await It(e);return{zip:t,entries:Object.fromEntries(n.map((e=>[e.name,e])))}}(e);let n="";for(const[e,r]of Object.entries(t))switch(e.substring(e.lastIndexOf("."))){case".opf":n=await r.text();break;case".jpg":case".jpeg":case".gif":const t=await r.blob(),i=URL.createObjectURL(t);Ut.push({name:e,url:i});break;case".css":const s=await r.text();Xt.push({name:e,css:s});break;case".htm":case".xml":case".html":case".xhtml":const o=await r.text();Rt.push([e,o])}return n},Gt=e=>({title:e["dc:title"],author:e["dc:creator"]}),Wt=e=>{let t=[];return e.item.forEach((e=>{"application/xhtml+xml"!==e["@_media-type"]&&"text/html"!==e["@_media-type"]||t.push({id:e["@_id"],href:e["@_href"]})})),t},Yt=(e,t)=>{let n=[];e.itemref.forEach((e=>{n.push(e["@_idref"])})),Mt=n.map((e=>t.find((t=>t.id===e))))},Zt=e=>{let t=document.createElement("newHTML");t.innerHTML=e.trim();for(let e of t.getElementsByTagName("img")){let t=-1,n=e.src.split("\\").pop().split("/").pop();for(let e=0;e<Ut.length;e++)if(Ut[e].name.includes(n)){t=e;break}-1!=t?e.src=Ut[t].url:e.remove()}for(let e of t.querySelectorAll("link"))Xt.forEach((t=>{e.href.includes(t.name.split("\\").pop().split("/").pop())&&e.remove()}));for(let e of t.getElementsByTagName("a"))e.removeAttribute("href");return t.innerHTML},Jt=()=>{for(let e=0;e<Mt.length;e++)for(const[t,n]of Rt)if(t.includes(Mt[e].href)){Vt.push(Zt(n));break}},{document:Kt,window:Qt}=D;function en(e){let t,n,i,s,u,p,x,v,w,y,N,E,A,T,O;return{c(){t=c("div"),n=c("select"),i=c("option"),i.textContent="Verdana",s=c("option"),s.textContent="Arial",u=c("option"),u.textContent="Courier New ",p=c("option"),p.textContent="Helvetica",x=c("option"),x.textContent="Times New Roman",v=f(),w=c("br"),y=f(),N=c("label"),N.textContent="Font size:",E=f(),A=c("input"),m(i,"font-family","'Verdana'"),i.__value="Verdana",i.value=i.__value,m(s,"font-family","'Arial'"),s.__value="Arial",s.value=s.__value,m(u,"font-family","'Courier New '"),u.__value="Courier New ",u.value=u.__value,m(p,"font-family","'Helvetica'"),p.__value="Helvetica",p.value=p.__value,m(x,"font-family","'Times New Roman'"),x.__value="Times New Roman",x.value=x.__value,void 0===e[3]&&k((()=>e[15].call(n))),h(N,"for","fontsize"),h(A,"name","fontsize"),h(A,"type","range"),h(A,"min","12"),h(A,"max","40"),h(t,"id","readerSettings"),h(t,"class","svelte-iesbkn")},m(r,l){a(r,t,l),o(t,n),o(n,i),o(n,s),o(n,u),o(n,p),o(n,x),b(n,e[3]),o(t,v),o(t,w),o(t,y),o(t,N),o(t,E),o(t,A),g(A,e[2]),T||(O=[d(n,"change",e[15]),d(A,"change",e[16]),d(A,"input",e[16])],T=!0)},p(e,t){8&t&&b(n,e[3]),4&t&&g(A,e[2])},d(e){e&&l(t),T=!1,r(O)}}}function tn(t){let n,i,s,g,b,v,w,y,N,E,A,T,O,$,P,C,F,S,L,_,z,B,D,I,j,M,V,U,R,X,H,q,G,W=!1,Y=()=>{W=!1},Z=void 0!==t[0]?t[0].meta.title+" - ":"",J=(void 0!==t[0]?t[0].meta.author:"")+"",K=t[5]?"â˜¾":"â˜¼",Q=t[0].contents[t[1]]+"",ee=t[0].contents[t[1]+1]+"";k(t[10]),Kt.title=i="\n        "+t[0].meta.title+" - "+t[0].meta.author+"\n    ";let te=t[4]&&en(t);return{c(){s=f(),g=c("main"),b=c("div"),v=c("h4"),w=c("b"),y=u(Z),N=f(),E=u(J),A=f(),T=c("p"),O=u(t[7]),$=u("%"),P=f(),C=c("div"),F=c("button"),S=u(K),L=f(),_=c("button"),_.textContent="âš™",z=f(),B=c("button"),B.textContent="Â«",D=f(),I=c("button"),I.textContent="Â»",M=f(),V=c("div"),U=new x,R=f(),X=new x,H=f(),te&&te.c(),h(v,"class","svelte-iesbkn"),h(T,"id","percentage"),h(T,"class","svelte-iesbkn"),h(b,"id","topbar"),h(b,"class","svelte-iesbkn"),h(F,"class","svelte-iesbkn"),h(_,"class","svelte-iesbkn"),h(B,"class","svelte-iesbkn"),h(I,"class","svelte-iesbkn"),h(C,"id","sidebar"),h(C,"style",j=t[6]>100?"opacity: 0.5; border: 1px solid transparent;":""),h(C,"class","svelte-iesbkn"),U.a=R,X.a=null,h(V,"id","container"),m(V,"font-size",t[2]+"px"),m(V,"font-family",t[3]),h(V,"class","svelte-iesbkn")},m(e,r){a(e,s,r),a(e,g,r),o(g,b),o(b,v),o(v,w),o(w,y),o(v,N),o(v,E),o(b,A),o(b,T),o(T,O),o(T,$),o(g,P),o(g,C),o(C,F),o(F,S),o(C,L),o(C,_),o(C,z),o(C,B),o(C,D),o(C,I),o(g,M),o(g,V),U.m(Q,V),o(V,R),X.m(ee,V),o(g,H),te&&te.m(g,null),q||(G=[d(Qt,"scroll",(()=>{W=!0,clearTimeout(n),n=setTimeout(Y,100),t[10]()})),d(F,"click",t[11]),d(_,"click",t[12]),d(B,"click",t[13]),d(I,"click",t[14])],q=!0)},p(e,[t]){64&t&&!W&&(W=!0,clearTimeout(n),scrollTo(Qt.pageXOffset,e[6]),n=setTimeout(Y,100)),1&t&&i!==(i="\n        "+e[0].meta.title+" - "+e[0].meta.author+"\n    ")&&(Kt.title=i),1&t&&Z!==(Z=void 0!==e[0]?e[0].meta.title+" - ":"")&&p(y,Z),1&t&&J!==(J=(void 0!==e[0]?e[0].meta.author:"")+"")&&p(E,J),128&t&&p(O,e[7]),32&t&&K!==(K=e[5]?"â˜¾":"â˜¼")&&p(S,K),64&t&&j!==(j=e[6]>100?"opacity: 0.5; border: 1px solid transparent;":"")&&h(C,"style",j),3&t&&Q!==(Q=e[0].contents[e[1]]+"")&&U.p(Q),3&t&&ee!==(ee=e[0].contents[e[1]+1]+"")&&X.p(ee),4&t&&m(V,"font-size",e[2]+"px"),8&t&&m(V,"font-family",e[3]),e[4]?te?te.p(e,t):(te=en(e),te.c(),te.m(g,null)):te&&(te.d(1),te=null)},i:e,o:e,d(e){e&&l(s),e&&l(g),te&&te.d(),q=!1,r(G)}}}function nn(e,t,n){let r,{book:i}=t,s=0,o=16,a="Verdana",l=!1,c=!1;const u=()=>{n(5,c=!c),window.document.body.classList.toggle("dark-mode")};let f=0,d=i.meta.title;y((()=>{d!=i.meta.title&&(n(1,s=0),d=i.meta.title,h())}));const h=()=>{for(let e of document.querySelectorAll("style"))e.remove();i.styles.forEach((e=>{const t=document.createElement("style");t.innerText=e.css,document.head.appendChild(t)}))},p=e=>{0<=s+e&&s+e<=i.contents.length&&(n(1,s+=e),n(6,f=0))};h();return e.$$set=e=>{"book"in e&&n(0,i=e.book)},e.$$.update=()=>{3&e.$$.dirty&&n(7,r=Math.floor(s/i.contents.length*100))},[i,s,o,a,l,c,f,r,u,p,function(){n(6,f=Qt.pageYOffset)},()=>u(),()=>n(4,l=!l),()=>p(-2),()=>p(2),function(){a=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(3,a)},function(){var e;e=this.value,o=""===e?null:+e,n(2,o)}]}class rn extends U{constructor(e){super(),V(this,e,nn,tn,s,{book:0})}}function sn(t){let n,r,i,s,p,g,b,x,v,w;return{c(){n=c("h1"),n.textContent="Essence Reader",r=f(),i=c("div"),s=c("h1"),s.textContent="ðŸ“š",p=f(),g=c("h2"),b=u("Drop anywhere or click to select a file"),h(n,"class","svelte-103ep6"),h(s,"class","svelte-103ep6"),m(g,"color",t[2]?"green":"black"),h(i,"id","dropInfo"),h(i,"style",x=t[2]?"border: 1px solid green; background-color: #dfffdf":""),h(i,"class","svelte-103ep6")},m(e,l){a(e,n,l),a(e,r,l),a(e,i,l),o(i,s),o(i,p),o(i,g),o(g,b),v||(w=d(i,"click",t[4]),v=!0)},p(e,t){4&t&&m(g,"color",e[2]?"green":"black"),4&t&&x!==(x=e[2]?"border: 1px solid green; background-color: #dfffdf":"")&&h(i,"style",x)},i:e,o:e,d(e){e&&l(n),e&&l(r),e&&l(i),v=!1,w()}}}function on(e){let t,n;return t=new rn({props:{book:e[0]}}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,r){I(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.book=e[0]),t.$set(r)},i(e){n||(z(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){j(t,e)}}}function an(e){let t,n,i,s;const o=[on,sn],u=[];function f(e,t){return e[1]?0:1}return n=f(e),i=u[n]=o[n](e),{c(){t=c("main"),i.c()},m(e,r){a(e,t,r),u[n].m(t,null),s=!0},p(e,[s]){let a=n;n=f(e),n===a?u[n].p(e,s):(_={r:0,c:[],p:_},B(u[a],1,1,(()=>{u[a]=null})),_.r||r(_.c),_=_.p,i=u[n],i?i.p(e,s):(i=u[n]=o[n](e),i.c()),z(i,1),i.m(t,null))},i(e){s||(z(i),s=!0)},o(e){B(i),s=!1},d(e){e&&l(t),u[n].d()}}}function ln(e,t,n){let r;async function i(e){n(0,r=await Ht(e)),n(1,s=!0)}let s=!1,o=!1;window.addEventListener("dragenter",(e=>{e.dataTransfer.types.includes("Files")&&n(2,o=!0)})),window.addEventListener("dragleave",(e=>{n(2,o=!1),e.preventDefault()})),window.addEventListener("dragover",(e=>e.preventDefault())),window.addEventListener("drop",(e=>{e.preventDefault(),n(2,o=!1),i(e.dataTransfer.files[0])}));const a=()=>{let e=document.createElement("input");e.type="file",e.onchange=e=>{i(e.target.files[0])},e.click()};return[r,s,o,a,()=>a()]}return new class extends U{constructor(e){super(),V(this,e,ln,an,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
